/* Relatórios da Fazenda */
body.is-relatorios{
  background: #ffffff;
}
body.is-relatorios #map,
body.is-relatorios .map{
  display: none;
}
body.is-relatorios #pageSlot{
  display: block;
  background: #ffffff;
  min-height: 100vh;
}
body.is-relatorios .main--map{
  background: #ffffff;
}
body.is-relatorios .main{
  overflow-y: auto;
  overflow-x: hidden;
}

.farm-report{
  padding: 20px 28px 32px;
  background: #ffffff;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.farm-report__crumbs{
  font-size: 12px;
  color: #94a3b8;
}
.farm-report__crumbs span{ margin: 0 6px; }

.farm-report__header{
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.farm-report__title{
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: #0f172a;
}

.farm-report__tabs{
  display: inline-flex;
  gap: 6px;
  background: #f8fafc;
  border-radius: 8px;
  padding: 3px;
  width: fit-content;
}

.farm-report__tab{
  border: 0;
  padding: 6px 12px;
  font-size: 12px;
  border-radius: 6px;
  background: transparent;
  color: #475569;
  cursor: pointer;
}
.farm-report__tab.is-active{
  background: #ffffff;
  color: #0f172a;
  box-shadow: 0 1px 2px rgba(15,23,42,.08);
}

.farm-report__filters{
  display: grid;
  grid-template-columns: minmax(320px, 520px) 180px;
  gap: 12px;
  align-items: center;
}

.farm-report__period{
  position: relative;
  width: 180px;
}

.farm-report__week{
  display: none;
  position: relative;
  width: 100%;
}

.farm-report__week-input{
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  border: 1px solid #16a34a;
  border-radius: 8px;
  padding: 6px 10px;
  font-size: 11.5px;
  background: #ffffff;
  cursor: pointer;
}
.farm-report__week-input i{
  color: #94a3b8;
  font-size: 12px;
}

.farm-report__week-panel{
  position: absolute;
  top: calc(100% + 6px);
  right: 0;
  width: 260px;
  background: #ffffff;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  box-shadow: 0 16px 28px rgba(15,23,42,.12);
  padding: 10px 12px;
  display: none;
  z-index: 90;
}

.farm-report__week.is-open .farm-report__week-panel{
  display: block;
}

.week-panel__nav{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  font-size: 12px;
  color: #0f172a;
}
.week-panel__nav button{
  border: 0;
  background: transparent;
  color: #94a3b8;
  cursor: pointer;
}

.week-panel__title{
  font-weight: 600;
  font-size: 12px;
}

.week-panel__dow{
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
  margin: 10px 0 8px;
  font-size: 11px;
  color: #94a3b8;
}

.week-panel__grid{
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
  font-size: 11px;
  color: #0f172a;
}

.week-panel__day{
  width: 100%;
  text-align: center;
  padding: 4px 0;
  border-radius: 6px;
}
.week-panel__day.is-muted{
  color: #cbd5e1;
}
.week-panel__day.is-range{
  background: #16a34a;
  color: #ffffff;
}

.farm-report[data-report-period="weekly"] .farm-report__week{
  display: block;
}
.farm-report[data-report-period="weekly"] .farm-report__month{
  display: none;
}
.farm-report[data-report-period="monthly"] .farm-report__month,
.farm-report[data-report-period="quarterly"] .farm-report__month{
  display: flex;
}
.farm-report[data-report-period="monthly"] .farm-report__week,
.farm-report[data-report-period="quarterly"] .farm-report__week{
  display: none;
}
.farm-report[data-report-period="quarterly"] .farm-report__month{
  display: none;
}
.farm-report[data-report-period="quarterly"] .farm-report__quarter{
  display: flex;
}

.farm-report__multi{
  position: relative;
}

.farm-report__multi-control{
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 6px;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 2px 6px;
  min-height: 30px;
  background: #ffffff;
  cursor: pointer;
}

.farm-report__chips{
  display: inline-flex;
  flex-wrap: wrap;
  gap: 6px;
}

.farm-report__chip{
  display: inline-flex;
  align-items: center;
  gap: 4px;
  background: #f1f5f9;
  border-radius: 6px;
  padding: 2px 5px;
  font-size: 11px;
  color: #0f172a;
}
.farm-report__chip button{
  border: 0;
  background: transparent;
  font-size: 12px;
  color: #64748b;
  cursor: pointer;
}

.farm-report__chip--count{
  background: #e2e8f0;
  color: #475569;
}

.farm-report__search{
  border: 0;
  outline: none;
  flex: 1;
  min-width: 80px;
  font-size: 11px;
}

.farm-report__chev{
  color: #94a3b8;
  font-size: 11px;
  margin-left: auto;
}

.farm-report__dropdown{
  position: absolute;
  top: calc(100% + 6px);
  left: 0;
  right: 0;
  background: #ffffff;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  box-shadow: 0 16px 28px rgba(15,23,42,.12);
  padding: 6px 0;
  display: none;
  z-index: 80;
}

.farm-report__dropdown.is-open{
  display: block;
}

.farm-report__list{
  max-height: 220px;
  overflow: auto;
}

.farm-report__item{
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  font-size: 12px;
  cursor: pointer;
}
.farm-report__item:hover{
  background: #e7f8ee;
}
.farm-report__item .check{
  color: #16a34a;
  opacity: 0;
}
.farm-report__item.is-selected .check{
  opacity: 1;
}

.farm-report__all{
  width: 100%;
  border: 0;
  background: #f8fafc;
  padding: 8px 12px;
  font-size: 12px;
  cursor: pointer;
  border-top: 1px solid #e2e8f0;
}


.farm-report__month{
  display: flex;
  align-items: center;
  gap: 8px;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  background: #ffffff;
  position: relative;
  width: 100%;
}
.farm-report__month-input{
  width: 100%;
  border: 1px solid #16a34a;
  border-radius: 8px;
  outline: none;
  background: #ffffff;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 6px 10px;
  font-size: 11.5px;
  cursor: pointer;
}
.farm-report__month-input i{
  color: #94a3b8;
  font-size: 12px;
}

.farm-report__month-panel{
  position: absolute;
  top: calc(100% + 6px);
  right: 0;
  width: 260px;
  background: #ffffff;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  box-shadow: 0 16px 28px rgba(15,23,42,.12);
  padding: 10px 12px;
  display: none;
  z-index: 90;
}
.farm-report__month.is-open .farm-report__month-panel{
  display: block;
}

.month-panel__nav{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  font-size: 12px;
  color: #0f172a;
}
.month-panel__nav button{
  border: 0;
  background: transparent;
  color: #94a3b8;
  cursor: pointer;
}
.month-panel__title{
  font-weight: 600;
  font-size: 12px;
}
.month-panel__grid{
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px 6px;
  margin-top: 10px;
}
.month-panel__month{
  border: 0;
  background: transparent;
  padding: 6px 0;
  border-radius: 6px;
  font-size: 12px;
  cursor: pointer;
  color: #0f172a;
}
.month-panel__month.is-active{
  background: #16a34a;
  color: #ffffff;
}

.farm-report__quarter{
  display: none;
  align-items: center;
  gap: 8px;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  background: #ffffff;
  position: relative;
  width: 100%;
}
.farm-report__quarter-input{
  width: 100%;
  border: 1px solid #16a34a;
  border-radius: 8px;
  outline: none;
  background: #ffffff;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  padding: 6px 10px;
  font-size: 11.5px;
  cursor: pointer;
}
.farm-report__quarter-input i{
  color: #94a3b8;
  font-size: 12px;
}
.farm-report__quarter-panel{
  position: absolute;
  top: calc(100% + 6px);
  right: 0;
  width: 220px;
  background: #ffffff;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  box-shadow: 0 16px 28px rgba(15,23,42,.12);
  padding: 10px 12px;
  display: none;
  z-index: 90;
}
.farm-report__quarter.is-open .farm-report__quarter-panel{
  display: block;
}
.quarter-panel__nav{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
  font-size: 12px;
  color: #0f172a;
}
.quarter-panel__nav button{
  border: 0;
  background: transparent;
  color: #94a3b8;
  cursor: pointer;
}
.quarter-panel__title{
  font-weight: 600;
  font-size: 12px;
}
.quarter-panel__grid{
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 6px;
  margin-top: 10px;
}
.quarter-panel__quarter{
  border: 0;
  background: transparent;
  padding: 6px 0;
  border-radius: 6px;
  font-size: 12px;
  cursor: pointer;
  color: #0f172a;
}
.quarter-panel__quarter.is-active{
  background: #16a34a;
  color: #ffffff;
}

.farm-report__legend{
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  font-size: 12px;
  color: #0f172a;
}

.farm-report__legend-item{
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.legend-dot{
  width: 14px;
  height: 14px;
  border-radius: 2px;
  display: inline-block;
}
.legend-dot--dry{ background: #a16207; }
.legend-dot--wet{ background: #1d4ed8; }
.legend-dot--fert{ background: #15803d; }
.legend-dot--stop{ background: #e11d48; }
.legend-dot--peak{ background: #f97316; }
.legend-dot--maint{ background: #eab308; }

.farm-report__timeline-wrap{
  margin-top: 8px;
  border: 0;
  border-radius: 12px;
  background: #ffffff;
  padding: 0 0 16px;
  position: relative;
  display: flex;
  flex-direction: column;
}

.farm-report__timeline-head-row{
  position: sticky;
  top: 0;
  z-index: 6;
  background: #ffffff;
  overflow-x: auto;
  overflow-y: hidden;
  scrollbar-width: none;
  -ms-overflow-style: none;
  pointer-events: none;
}

.farm-report__timeline-head-row::-webkit-scrollbar{
  height: 0;
}

.farm-report__timeline-body{
  overflow-x: auto;
  overflow-y: visible;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.farm-report__timeline-body::-webkit-scrollbar{
  height: 0;
}

.farm-report__timeline-grid{
  display: grid;
  grid-template-columns: 90px repeat(11, 240px) 240px;
  gap: 0;
  width: max-content;
  min-width: 100%;
}

.farm-report__timeline-head{
  padding: 2px 8px 12px;
  text-align: center;
  font-size: 14px;
  font-weight: 600;
  color: #0f172a;
  border-bottom: 1px solid #e5e7eb;
  background: #ffffff;
  position: relative;
  z-index: 1;
}

.farm-report__timeline-head--spacer{
  border-bottom: 0;
  position: sticky;
  left: 0;
  z-index: 7;
  background: #ffffff;
  border-right: 1px solid #e5e7eb;
}

.farm-report__timeline-label{
  display: flex;
  align-items: center;
  padding: 18px 12px 18px 0;
  font-size: 15px;
  font-weight: 300;
  color: #0f172a;
  border-top: 0;
  border-bottom: 1px solid #e5e7eb;
  position: sticky;
  left: 0;
  background: #ffffff;
  z-index: 3;
  box-shadow: 1px 0 0 #e5e7eb;
}

.farm-report__timeline-cell{
  position: relative;
  padding: 12px 12px 8px;
  min-height: 350px;
  border-top: 1px solid #e5e7eb;
  border-bottom: 1px solid #e5e7eb;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  gap: 12px;

  /* ===== FIX: borda vertical correta (substitui o ::before bugado) ===== */
  border-left: 1px solid #e5e7eb;
}

.farm-report__timeline-cell::before{
  /* ===== FIX: remove a linha vertical desalinhada ===== */
  display: none !important;
}

.farm-report__timeline-cell--first{
  border-left: 0;
}

.farm-report__timeline-head:last-child{
  border-right: 1px solid #e5e7eb;
}

.farm-report__timeline-head--accum{
  position: sticky;
  right: 0;
  z-index: 7;
  background: #ffffff;
  border-left: 1px solid #e5e7eb;
}

.farm-report__timeline-cell:last-child{
  border-right: 1px solid #e5e7eb;
}

.farm-report__timeline-cell--accum{
  background: #f8fafc;
  position: sticky;
  right: 0;
  z-index: 2;
  box-shadow: -1px 0 0 #e5e7eb;
}

.farm-report__timeline-track{
  position: relative;

  /* ===== FIX: não deixa o track “brigar” com o pivô ===== */
  flex: 0 0 auto;
  --pivot-mini-size: 210px;
  --pivot-mini-top: 6px;
  --pivot-mini-gap: 38px;
  --timeline-line-top: calc(var(--pivot-mini-top) + var(--pivot-mini-size) + var(--pivot-mini-gap));
  min-height: calc(var(--timeline-line-top) + 16px);
  --timeline-offset: 0px;
}

.farm-report__timeline-cell--accum .farm-report__timeline-track{
  min-height: calc(var(--timeline-line-top) + 16px);
  display: block;
}

/* ===== FIX: barra cinza centralizada no track ===== */
.farm-report__timeline-track::before{
  content: "";
  position: absolute;
  left: 0;
  top: var(--timeline-line-top);
  transform: translateY(-50%);
  width: 100%;
  height: 12px;
  background: #fbfbfc;
  border-radius: 2px;
}

.farm-report__event{
  position: absolute;
  left: var(--x, 10%);

  /* ===== FIX: evento alinhado no meio da barra ===== */
  top: var(--timeline-line-top);
  transform: translateY(-50%);

  width: var(--w, 12%);
  height: 12px;
  border-radius: 2px;
  background: #94a3b8;
  box-shadow: 0 0 0 1px rgba(15,23,42,.08);
  z-index: 2;
}

.farm-report__event:hover{
  z-index: 20;
}

.farm-report__event.is-dot{
  width: 8px;
  height: 8px;
  border-radius: 999px;
  box-shadow: 0 0 0 4px rgba(15,23,42,.08);
}

.farm-report__event.is-dry{ background: #a16207; }
.farm-report__event.is-wet{ background: #1d4ed8; }
.farm-report__event.is-fert{ background: #15803d; }
.farm-report__event.is-stop{ background: #e11d48; }
.farm-report__event.is-peak{ background: #f97316; }
.farm-report__event.is-maint{ background: #eab308; }

.farm-report__pivot{
  position: relative;
  width: min(300px, 92%);
  aspect-ratio: 1 / 1;
  height: auto;
  --pivot-start: 0deg;
  --pivot-sweep: 0deg;
  --pivot-fill: rgba(59,130,246,.28);
}

.farm-report__timeline-cell--accum .farm-report__pivot{
  width: var(--pivot-mini-size);
  height: var(--pivot-mini-size);
  aspect-ratio: 1 / 1;
  margin: var(--pivot-mini-top) 0 0;
}

.farm-report__accum{
  display: flex;
  align-items: flex-start;
  justify-content: center;
  gap: 18px;
  width: 100%;
}

.farm-report__accum-stats{
  margin-top: calc(var(--pivot-mini-top) + 10px);
  display: grid;
  gap: 10px;
  font-size: 12px;
  color: #0f172a;
  min-width: 120px;
}

.farm-report__accum-stat span{
  display: block;
  font-size: 11px;
  color: #64748b;
}

.farm-report__accum-stat strong{
  display: block;
  font-size: 14px;
  font-weight: 600;
}

/* ===== FIX: pivô mini dentro do fluxo do card (sem absolute) ===== */
.farm-report__pivot--mini{
  position: relative;
  margin: var(--pivot-mini-top) auto 0;
  width: var(--pivot-mini-size);
  height: var(--pivot-mini-size);
  pointer-events: none;
  z-index: 0;
}

.farm-report__pivot--accum{
  display: flex;
  align-items: center;
  justify-content: center;
  background: #ffffff;
}

.farm-report__pivot::before{
  content: "";
  position: absolute;
  inset: 0;
  border: 2px solid #cbd5e1;
  border-radius: 50%;
  background: conic-gradient(from var(--pivot-start), var(--pivot-fill) 0 var(--pivot-sweep), transparent 0);
}

.farm-report__pivot--accum::before{
  display: none;
}

.farm-report__pivot::after{
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 2px;
  height: 50%;
  background: #cbd5e1;
  transform-origin: bottom center;
  transform: translate(-50%, -100%);
}

.farm-report__pivot--accum::after{
  display: none;
}

.farm-report__pivot-center{
  position: absolute;
  left: 50%;
  top: 50%;
  width: 6px;
  height: 6px;
  background: #cbd5e1;
  border-radius: 50%;
  transform: translate(-50%, -50%);
}

.farm-report__pivot-tip{
  display: none;
}

.farm-report__pivot--accum .farm-report__pivot-center{
  display: none;
}

.farm-report__pivot-canvas{
  width: 100%;
  height: 100%;
  display: block;
}

/* modo linha única */
.farm-report__timeline-wrap.is-single-line .farm-report__timeline-track{
  min-height: 56px;
}

.farm-report__timeline-wrap.is-single-line .farm-report__timeline-cell--accum .farm-report__timeline-track{
  min-height: 170px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.farm-report__timeline-wrap.is-single-line .farm-report__timeline-track::before{
  left: -12px;
  width: calc(100% + 24px);
}

/* já está centralizado no fix principal, mantém */
.farm-report__timeline-wrap.is-single-line .farm-report__event{
  top: var(--timeline-line-top);
  transform: translateY(-50%);
}

/* acumulado não tem a barra */
.farm-report__timeline-cell--accum .farm-report__timeline-track::before{
  display: none;
}

.farm-report__tooltip{
  position: absolute;
  left: 50%;
  bottom: calc(100% + 10px);
  transform: translateX(-50%) translateY(6px);
  background: #ffffff;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 8px 10px;
  box-shadow: 0 10px 22px rgba(15,23,42,.16);
  font-size: 12px;
  color: #0f172a;
  width: 190px;
  display: flex;
  flex-direction: column;
  gap: 2px;
  opacity: 0;
  pointer-events: none;
  transition: opacity .15s ease, transform .15s ease;
  z-index: 30;
}

.farm-report__tooltip::after{
  content: "";
  position: absolute;
  left: 50%;
  bottom: -6px;
  transform: translateX(-50%);
  border-width: 6px 6px 0;
  border-style: solid;
  border-color: #ffffff transparent transparent;
  filter: drop-shadow(0 -1px 0 #e2e8f0);
}

.farm-report__event:hover .farm-report__tooltip{
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

.farm-report__tooltip strong{
  font-size: 12.5px;
}

.farm-report__tooltip-note{
  color: #64748b;
  font-style: italic;
}

.farm-report__timeline-metrics{
  /* ===== FIX: sempre no rodapé, sem quebrar em cima do track ===== */
  margin-top: auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  font-size: 14px;
  color: #334155;
}

.farm-report__metrics-row{
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 18px;
  flex-wrap: wrap;
  width: 100%;
}

.farm-report__timeline-metrics--accum{
  align-items: center;
  gap: 8px;
}

.farm-report__timeline-metrics--accum .farm-report__accum-stat{
  text-align: center;
}

@media (max-width: 960px){
  .farm-report__filters{
    grid-template-columns: 1fr;
  }
  .farm-report__month{
    width: 100%;
    justify-content: space-between;
  }
}

@media (max-width: 720px){
  .farm-report__timeline-grid{
    grid-template-columns: 100px repeat(11, 180px) 180px;
  }
}


/* =========================
   PIVÔ — VISUAL MODERNO
   ========================= */

.farm-report__pivot{
  position: relative;
  width: min(300px, 92%);
  aspect-ratio: 1 / 1;
  height: auto;

  /* inputs do seu componente */
  --pivot-start: 0deg;
  --pivot-sweep: 0deg;

  /* tema */
  --pivot-ring: #cbd5e1;          /* borda/anel */
  --pivot-face: #ffffff;          /* miolo */
  --pivot-grid: rgba(15,23,42,.05); /* textura */
  --pivot-water-1: rgba(59,130,246,.42);
  --pivot-water-2: rgba(59,130,246,.18);
  --pivot-shadow: rgba(15,23,42,.10);

  border-radius: 50%;
}

/* Face do pivô + textura + ring + irrigado */
.farm-report__pivot::before{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;

  /* 1) Camada de irrigação (conic)  2) textura sutil  3) face */
  background:
    /* área irrigada com degradê sutil (não fica chapado) */
    conic-gradient(
      from var(--pivot-start),
      var(--pivot-water-1) 0,
      var(--pivot-water-2) var(--pivot-sweep),
      transparent 0
    ),
    /* textura leve tipo “solo / varredura” */
    repeating-radial-gradient(
      circle at 50% 50%,
      transparent 0 10px,
      var(--pivot-grid) 10px 11px
    ),
    radial-gradient(circle at 50% 45%, #ffffff 0%, #f8fafc 60%, #f1f5f9 100%);

  /* ring + profundidade */
  box-shadow:
    inset 0 0 0 2px var(--pivot-ring),
    inset 0 10px 18px rgba(15,23,42,.06),
    0 10px 22px rgba(15,23,42,.10);

  /* “anel” (deixa mais moderno que pizza cheia) */
  -webkit-mask: radial-gradient(circle, transparent 0 58%, #000 59% 100%);
  mask: radial-gradient(circle, transparent 0 58%, #000 59% 100%);
}

/* Camada de ticks usando ::after (deixa seu ponteiro em outro pseudo) */
.farm-report__pivot::after{
  content: "";
  position: absolute;
  inset: 6%;
  border-radius: 50%;

  /* ticks finos, bem discretos */
  background:
    repeating-conic-gradient(
      from -90deg,
      rgba(15,23,42,.10) 0 1deg,
      transparent 1deg 15deg
    );

  /* deixa ticks só no anel externo */
  -webkit-mask: radial-gradient(circle, transparent 0 70%, #000 71% 100%);
  mask: radial-gradient(circle, transparent 0 70%, #000 71% 100%);

  opacity: .35;
  pointer-events: none;
}

/* Ponteiro: crie um elemento real (recomendado) OU use outra classe.
   Como você já usa ::after antes pra linha, vamos criar um span/elemento (abaixo),
   mas se você NÃO quiser mexer em HTML, te digo como adaptar. */

/* Se você puder adicionar isso no HTML dentro do .farm-report__pivot:
   <span class="farm-report__pivot-arm"></span>
*/
.farm-report__pivot-arm{
  position: absolute;
  left: 50%;
  top: 50%;
  width: 2px;
  height: 44%;
  background: linear-gradient(to top, rgba(15,23,42,.18), rgba(15,23,42,.45));
  transform-origin: bottom center;
  transform: translate(-50%, -100%) rotate(var(--pivot-start));
  border-radius: 999px;
  box-shadow: 0 2px 6px rgba(15,23,42,.18);
}

/* “cap” na ponta do ponteiro */
.farm-report__pivot-arm::after{
  content: "";
  position: absolute;
  left: 50%;
  top: -6px;
  transform: translateX(-50%);
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background: #e2e8f0;
  box-shadow: inset 0 0 0 2px #cbd5e1, 0 4px 10px rgba(15,23,42,.12);
}

/* Centro (pino) mais bonito */
.farm-report__pivot-center{
  position: absolute;
  left: 50%;
  top: 50%;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  background: radial-gradient(circle at 35% 35%, #ffffff 0%, #e2e8f0 55%, #cbd5e1 100%);
  box-shadow: 0 6px 16px rgba(15,23,42,.14);
}

/* Ajuste: no mini mantém proporção e sobra “premium” */
.farm-report__timeline-cell--accum .farm-report__pivot::before{
  box-shadow:
    inset 0 0 0 2px var(--pivot-ring),
    inset 0 8px 14px rgba(15,23,42,.06),
    0 8px 18px rgba(15,23,42,.10);
}

.farm-report__pivot{
  --pivot-water-1: rgba(59,130,246,.65);
  --pivot-water-2: rgba(59,130,246,.28);
}

/* ===== PIVÔ PREENCHIDO (do centro até a borda) ===== */

.farm-report__pivot{
  --pivot-water-1: rgba(59,130,246,.55);
  --pivot-water-2: rgba(59,130,246,.22);
}

/* pinta a área irrigada (cheio) + mantém círculos */
.farm-report__pivot::before{
  /* remove o modo anel */
  -webkit-mask: none !important;
  mask: none !important;

  /* preenchimento do setor + textura */
  background:
    /* setor irrigado (cheio) */
    conic-gradient(
      from var(--pivot-start),
      var(--pivot-water-1) 0,
      var(--pivot-water-2) var(--pivot-sweep),
      rgba(0,0,0,0) 0
    ),
    /* círculos concêntricos (bem leves) */
    repeating-radial-gradient(
      circle at 50% 50%,
      rgba(15,23,42,.07) 0 1px,
      transparent 1px 34px
    ),
    /* face */
    radial-gradient(circle at 50% 45%, #ffffff 0%, #f8fafc 60%, #f1f5f9 100%);

  border: 2px solid #cbd5e1;
  box-shadow:
    inset 0 10px 18px rgba(15,23,42,.06),
    0 10px 22px rgba(15,23,42,.10);
}

/* ticks (marquinhas) ficam opcionais — se você quiser remover: display:none */
.farm-report__pivot::after{
  opacity: .18;
  -webkit-mask: radial-gradient(circle, transparent 0 18%, #000 19% 100%);
  mask: radial-gradient(circle, transparent 0 18%, #000 19% 100%);
}

/* centro */
.farm-report__pivot-center{
  width: 10px;
  height: 10px;
  background: rgba(148,163,184,0.9);
  box-shadow: none;
}

/* ===== OVERRIDE SEGURO: não mexe no layout, só no “tom” ===== */
.farm-report__pivot{
  --pivot-water-1: rgba(40, 109, 221, 0.34);
  --pivot-water-2: rgba(59,130,246,.14);
  --pivot-water-edge: rgba(3, 99, 255, 0.58);
}

/* =========================
   HOTFIX — ACUMULADO HEATMAP BONITO
   (mantém o disco base + anéis com gradiente)
   ========================= */

/* 1) NÃO use background no elemento (isso dá aquele “zoado”) */
.farm-report__pivot--accum{
  background: none !important;
  --acc-r1: 0;
  --acc-r2: 0;
  --acc-r3: 0;
  --acc-r4: 0;
  --acc-r5: 0;

  /* cor base do heatmap */
  --acc-blue: 59,130,246; /* rgb */
}

/* 2) Volta o “disco” base bonito no acumulado */
.farm-report__pivot--accum::before{
  /* garante que o ::before desenhe a face */
  background:
    /* círculos concêntricos suaves */
    repeating-radial-gradient(
      circle at 50% 50%,
      rgba(15,23,42,.06) 0 1px,
      transparent 1px 34px
    ),
    /* face */
    radial-gradient(circle at 50% 45%, #ffffff 0%, #f8fafc 60%, #f1f5f9 100%) !important;

  border: 2px solid #cbd5e1 !important;
  box-shadow:
    inset 0 10px 18px rgba(15,23,42,.06),
    0 10px 22px rgba(15,23,42,.10) !important;

  -webkit-mask: none !important;
  mask: none !important;
}

/* 3) No acumulado, não precisa do “ponteiro” (aquela linha) */
.farm-report__pivot--accum::after{
  display: none !important;
}

/* 4) Anéis: use gradiente radial dentro do anel (fica premium) */
.farm-report__pivot--accum .farm-report__pivot-acc-ring{
  position: absolute;
  inset: 3px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 2;

  /* remove a cor chapada do codex */
  background: radial-gradient(
    circle at 50% 50%,
    rgba(var(--acc-blue), calc(.02 + var(--a) * .22)) 0%,
    rgba(var(--acc-blue), calc(.01 + var(--a) * .14)) 65%,
    rgba(var(--acc-blue), 0) 100%
  ) !important;

  opacity: 1 !important;

  -webkit-mask: radial-gradient(circle,
    transparent 0 var(--ring-start),
    #000 var(--ring-start) var(--ring-end),
    transparent var(--ring-end));
  mask: radial-gradient(circle,
    transparent 0 var(--ring-start),
    #000 var(--ring-start) var(--ring-end),
    transparent var(--ring-end));
}

/* 5) Mapeia cada ring para sua var (0..1) */
.farm-report__pivot--accum .farm-report__pivot-acc-ring.r1{ --ring-start: 0%;  --ring-end: 30%; --a: var(--acc-r1, 0); }
.farm-report__pivot--accum .farm-report__pivot-acc-ring.r2{ --ring-start: 30%; --ring-end: 42%; --a: var(--acc-r2, 0); }
.farm-report__pivot--accum .farm-report__pivot-acc-ring.r3{ --ring-start: 42%; --ring-end: 54%; --a: var(--acc-r3, 0); }
.farm-report__pivot--accum .farm-report__pivot-acc-ring.r4{ --ring-start: 54%; --ring-end: 66%; --a: var(--acc-r4, 0); }
.farm-report__pivot--accum .farm-report__pivot-acc-ring.r5{ --ring-start: 66%; --ring-end: 80%; --a: var(--acc-r5, 0); }
